# ç·æ‹¬
ğŸ‘‰Cloud Nativeã¨ã¯ **Cloudã‚µãƒ¼ãƒ“ã‚¹ä¸Šã§Scalableã«å®Ÿè¡Œã•ã‚Œã‚‹Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€‚**<br>
ğŸ‘‰Microservicesã¨ã¯ **ãƒ“ã‚¸ãƒã‚¹æ©Ÿèƒ½ã”ã¨ã«Serviceã‚’ä½œæˆï¼†ãã‚Œã‚‰ã‚’çµåˆã—ã¦é›†åˆä½“ã¨ã—ã¦Serviceç¨¼åƒã•ã›ã‚‹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**ã€‚

# å‚è€ƒ
- [What is Cloud Native?ï½œMicrosoft](https://learn.microsoft.com/en-us/dotnet/architecture/cloud-native/definition)

# Cloud Nativeã¨ã¯
> Cloud-native architecture and technologies are an approach to designing, constructing, and operating workloads that are built in the cloud and take full advantage of the cloud computing model.

âœ…**Cloudã‚µãƒ¼ãƒ“ã‚¹ä¸Šã§ Application ã‚’ Scaleble ã« runã™ã‚‹ã€‚**<br>
âœ…**Cloud-basedãªã‚‰ã§ã¯ã®ãƒ¡ãƒªãƒƒãƒˆã‚’äº«å—ã§ãã‚‹ã€‚**

# Cloudãªã‚‰ã§ã¯ã®ãƒ¡ãƒªãƒƒãƒˆ
## Pet vs Cattle - æ®‹é…·ã ãŒCattleã®æ–¹ãŒè‰¯ã„ã‚ˆã­...
Pet...ã‚µãƒ¼ãƒãŒä½“èª¿å´©ã—ãŸã‚‰é¢å€’ã¿ã¦ã‚ã’ã‚‹ã€‚åŒã˜ç‰©ç†ã‚µãƒ¼ãƒã‚’ãšã£ã¨ä½¿ã†ã€‚
>  In a traditional data center, servers are **treated as Pets**: a **physical machine**, given a meaningful name, and cared for. You **scale UP the same machine vertically**. If the server becomes sick, you nurse it back to health. Should the server become unavailable, everyone notices.

Cattle(ç‰›/å®¶ç•œ)...å°‘ã—ã§ã‚‚ä½“èª¿å´©ã—ãŸã‚‰ã¨æ®ºå‡¦åˆ†ã—ã¦ã™ãã«æ–°ã—ã„ç‰›ã§ä»£æ›¿ã™ã‚‹ã€‚
> You provision each instance as a **virtual machine** or **container**. They're identical and assigned a system identifier such as Service-01, Service-02, and so on. You **scale by creating more of them (scaling OUT)**. When one becomes unavailable, nobody notices.

**Cloud-native systems embrace the Cattle service model.**

# Cloud-based Applicationã‚’æ§‹ç¯‰ã™ã‚‹ä¸Šã§ã®Best Practice
## The Twelve-Factor Application
âœ…Scale outã§ãã‚‹ -> Service(REST API)ã¯Statelessã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚<br>
âœ…Statelessã«ã™ã‚‹ãŸã‚ã« -> Secret ã‚„ Redis ã¯å¤–ã ã—ã«ã™ã‚‹ã€‚<br>
âœ…Scale outã™ã‚‹ã®ã§ -> APIGWç­‰ã§Requestã‚’Routingã—ã¦ã‚ã’ã‚‹ã€‚

https://learn.microsoft.com/en-us/dotnet/architecture/cloud-native/definition#the-twelve-factor-application

12å€‹ã®ã†ã¡é‡è¦ãªã‚„ã¤ã‚’Pickup

|Feature|Description|
|----|----|
|Code Base|1ã¤ã®Serviceã«ã¤ã 1ã¤ã®CodeBase/Repositoryã§ç®¡ç†ã™ã‚‹ã€‚<br>â†’ **ãã®Serviceã ã‘ã§ã®CICD(Build,Release,Run)ã‚’å®Ÿç¾ã•ã›ã‚‹ã€‚**|
|Externalize Config|DeploymentConfigã«ç’°å¢ƒå¤‰æ•°ã¨ã—ã¦åˆ‡ã‚Šå‡ºã—ãŸã‚Šã€AWSã®ParameterStoreã«ä¿å­˜ã™ã‚‹ãªã©ã—ã¦ã€Serviceã®å¤–éƒ¨ã«è¨­å®šå€¤ã‚’ä¿ç®¡ï¼†å‚ç…§ã™ã‚‹å½¢ã«ã™ã‚‹ã€‚<br>â†’ **Serviceã‚’Statelessã«ã™ã‚‹ã€‚**|
|Backing Services|**Ancillary(è£œåŠ©çš„ãª) resources** (data stores, caches, message brokers) should be exposed via an addressable URL. Doing so decouples the resource from the application, enabling it to be **interchangeable**.|
|Build,Release,Run|Each **should be tagged** with a unique ID and support the ability to **roll back**. Modern CI/CD systems help fulfill this principle.|
|Dev/Prod Parity|**Prodã¨åŒã˜ç’°å¢ƒã‚’Devã§å†ç¾ã§ãã‚‹ã‚ˆã†ã«**ã€‚|
|Logging|å„Serviceã§å‡ºåŠ›ã—ãŸãƒ­ã‚°ã¯ Splunkç­‰ã§1ã‹æ‰€ã«åé›†ã™ã‚‹ã€‚|

# Microservices
âœ…Cloud-nativeã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€Microservicesã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’æ¡ç”¨ã—ã¦ã„ã‚‹ã€‚

Mircroservicesã®ç‰¹æ€§
- Each implements a specific business capability. **æ¥­å‹™ã”ã¨ã§Serviceã‚’åˆ†ã‘ã‚‹ã€‚**
- Each is developed autonomously and can be deployed independently. **CICDç‹¬ç«‹**
- Each runs in its own process and communicates with others using standard communication protocols such as HTTP/HTTPS, gRPC, WebSockets. **å„Serviceã¯NWçµŒç”±ã§ã‚¢ã‚¯ã‚»ã‚¹**
- They compose together to form an application. **å…¨ã¦ã‚’çµ„ã¿åˆã‚ã›ã¦1ã¤ã®WEBã‚¢ãƒ—ãƒªã¨ã—ã¦æ§‹æˆã™ã‚‹ã€‚**

## Why Mircroservices
1. Can evolve independently **ä»–æ¥­å‹™/ãƒãƒ¼ãƒ ã‚’æ°—ã«ã›ãšãã®Servcieã‚’é–‹ç™º&ãƒªãƒªãƒ¼ã‚¹ã§ãã‚‹ã€‚**
2. Can scale independently **å¿…è¦ãªServiceã®ã¿å¿…è¦ãªã¨ãã«Scalingã§ãã‚‹ã€‚**

## Challenges for Microservices
1. Communication - Scalingã™ã‚‹Serviceã«å¯¾ã™ã‚‹Routingåˆ¶å¾¡ã€‚
2. Resiliency - PodãŒæ­»ã‚“ã ã¨ãã«ã™ãã«æ–°ãŸãªPodã®èµ·å‹•ã—ãŸã‚Šç­‰ã€‚
3. Distributed Data - è…¹æŒã¡ä»£ç†åº—æƒ…å ±ã®ä»¶ã€‚å¯¾ç­–ã¨ã—ã¦ã‚„ã¯ã‚Šè…¹æŒã¡?
4. Secrets - ParameterStoreã‚ˆã†ãªå¤–éƒ¨ã‚¹ãƒˆã‚¢ã«ä¿å­˜ã—ã¦ãŠãã€‚


