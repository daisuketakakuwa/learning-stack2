## TOASTとは？
- TOAST = The Oversized-Attribute Storage Technique
- **1行に収まりきらない大きなデータを自動的に外部に保存する仕組み**
- 対象
  - TEXT
  - BYTEA
  - 配列（ARRAY）
  - JSON 型など、大きなデータを持つ列a

## TOASTの仕組み
- 元のテーブルを メインテーブル とする
- 巨大な列のデータを分割して TOAST テーブル に格納する
- データを参照するときは：
  - メインテーブルから TOAST テーブルへのポインタを取得
  - 必要なデータを取り出す
- 特徴：
  - **自動生成**される（ユーザーが直接作る必要はない）
  - **メインテーブルごとに 1 つ TOAST テーブルが作られる**
  - 内部的には 行を圧縮して格納 することも可能
 
## いつTOASTテーブルへレコード格納される？
<img width="900px" height="748" alt="image" src="https://github.com/user-attachments/assets/dd9bb8d0-f768-45f6-bee5-7c424d942c6f" />

## 各テーブルのTOASTテーブルを確認したい
- pg_class で TOAST テーブルも管理される
- relkind = 't' で TOAST テーブルを確認可能
- VACUUM や ANALYZE も TOAST テーブルに対して行われる
