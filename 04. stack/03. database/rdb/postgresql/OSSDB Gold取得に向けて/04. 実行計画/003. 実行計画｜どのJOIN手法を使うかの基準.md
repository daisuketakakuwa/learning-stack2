## どのJOIN手法を使うかの基準
- ✅ テーブルの行数
  - NestedLoop的には、小さい方を外側にしたい -> 🔴ループが少ない方がいいよね🔴
  - Hash的には、小さい方を内側にしてハッシュテーブル化したい -> 🔴メモリに載せるハッシュテーブルを軽量化したい🔴
- ✅ インデックスの有無
  - NestedLoop的には、内側のテーブルの結合キーにIndexが欲しい。なければ結構厳しい...
  - Merge的には、両方のテーブルの結合キーにIndexがあるとソート不要。
  - 👉**HashJoinはインデックスを使わない**！！けど代わりにハッシュテーブルを作成。
- ✅ JOINの種類（INNER / OUTER）
  - INNERだと、ABどちらも軸となるので、クエリの順番が重要。
  - OUTERだと、外側/内側が必然的に決まる。
- ✅ JOINの向き（LEFT / RIGHT）
- ✅ 結合キーのカーディナリティ（＝一意性・値のバリエーション）
  - 一意性が高いとIndexの効果が高まるから、NestedLoop向き。
- ✅ WHERE句やJOIN条件の選択度（＝どれだけ絞れるか）
  - 先にWHERE句で絞ってから、AとBでJOINする....みたいな考え方
  - 沢山絞れたなら、件数の少ないテーブルAをJOINするだけ➡NestedLoopが最適👍
- ✅ ORDER BYの有無
  - ORDER BYがある → MergeJoinの過程でソートするので「**ORDER BYのためのソート**」**が不要になる**....からMergeJoin。
  - ORDER BYがない → ソートする必要がないので、MergeJoin以外のJOIN手法を選択する。
- ✅ メモリ使用量の上限（`work_mem`）
  - ハッシュJOINの場合、メモリ上にハッシュテーブルを構築するので...
- ✅ 統計情報(`pg_statistic`)が最新であること
  - ✖古いと誤ったJOIN手法が最小されてしまう。 
