## 単語の意味
### 📝SLI (Service Level Indicator) - サービスレベル指標
- 意味: サービスの品質を客観的に測定するための具体的な**指標（メトリクス）**。
- 例: リクエストの成功率、レイテンシー（応答時間）、スループットなど。
- 役割: SLOが達成されているかを数値で確認する。 
### 📝SLO (Service Level Objective) - サービスレベル目標
- 意味: SLIで測定されるサービスレベルの具体的な**目標値**。
- 例: 「99.9%の可用性」「動画再生が2秒以内に開始する割合99%」など。
- 役割: サービス提供者が目指す品質水準で、**SLAより高い**目標を設定することが多い。 
### 📝SLA (Service Level Agreement) - サービスレベル契約
- 意味: **サービス提供者と顧客間で合意する**、サービス品質に関する公式な契約書。
- 内容: SLO、SLI、保証するサービス範囲、SLO未達時のペナルティ（返金など）。
- 役割: 顧客への保証と、万が一の際の対応ルールを明確にする。 

### 🤔SLA=99.5%、SLO=99.9%とする場合
- SRE観点で、**利用可能な月間エラーバジェットは0.1%**のみ -> 超えたらアラート通知。
- 0.4% 分は “事業リスクバッファ” として設ける。
```
SLO 99.9%
│───────│  ← 運用目標
│       │
│ 0.4%  │  ← バッファ（想定外・外部要因）
│       │
│───────│
SLA 99.5% ← 法的に守らないといけないライン
```
### 🤔SLAはどう決める？どう構成される？
#### ✅重要機能（機能SLO）を定めた上で、プロダクトSLAを定義する。
```
┌──────────────┐
│ プロダクトSLA │ ← 重要機能が確実に動くことを保証する対外契約（最上位）
└──────┬───────┘
       ↓
┌──────────────┐
│  機能SLO      │ ← 重要なユーザー体験に繋がる機能のみSLOを定義＆監視。
└──────┬───────┘
       ↓
┌──────────────┐
│   API SLO    │ ← 技術的な安定性を示すために全てのAPIを対象に監視。
└──────────────┘
```
#### 各レイヤーの目的
|レイヤー|目的|
|----|----|
|API SLO|・障害分析<br>・改善投資<br>・チーム間合意|
|機能SLO|重要機能が正常動作していることの確認<br>  ＝SLA達成可否の内部判断<br>  ＝ユーザー体験の評価|
|プロダクトSLA|握った契約に違反していないかを判断|

#### ✅API SLO ＝ 機能SLO ではない。監視対象は同じになる可能性あり。
👉指標は「API SLO」「機能SLO」でそれぞれ個別で定義されているもの。<br>
　 だけど、監視対象は同じAPIになることもある。

例：検索処理
- API SLO ＝「検索API」が監視対象
- 機能SLO＝「検索処理」の監視対象が「検索API」

## External(Customer) SLA と Internal(Team) SLA
- Customerと法的に契約するSLA
- Team(開発チーム)間で定めるSLA

### あるある）ToCサービスは、ExternalSLAを握らない。代わりに利用約款。
なぜ握らない？前提として「SLA」は契約である特性が強い。
#### 理由１：利用者が不特定多数
- 何万人・何百万人が同時利用
- 1人1人と契約してSLAを結ぶのは非現実的（**この点だとToBの採用管理システムもそう**）
#### 理由２：不特定多数に「契約責任」を追うのはツライ
- 違反時に補償や返金が発生
- ToCサービスだとリスクが膨大になる

#### 代わりに「利用規約 / Terms of Service (ToS)」
- 「当サービスは**ベストエフォートで提供します**」
- 「免責事項」や「障害時の対応範囲」を明記
- ✅**法的拘束力はあるが、個別SLAよりは緩い**

